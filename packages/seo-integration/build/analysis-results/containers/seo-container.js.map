{"version":3,"sources":["../../../src/analysis-results/containers/seo-container.js"],"names":["useSelect","useMemo","SEO_STORE_NAME","FOCUS_KEYPHRASE_ID","PropTypes","useMarker","transformAnalysisResults","SeoResultsContainer","as","Component","keyphraseId","restProps","isSeoAnalysisActive","select","selectIsSeoAnalysisActive","seoResults","selectSeoResults","keyphrase","selectKeyphrase","markerStatus","selectMarkerStatus","transformedResults","markerId","handleMarkClick","headingLevel","marksButtonClassName","propTypes","elementType","isRequired","string","defaultProps"],"mappings":";;AAAA,SAASA,SAAT,QAA0B,iBAA1B;AACA,SAASC,OAAT,QAAwB,oBAAxB;AACA,SAASC,cAAT,QAA+B,kBAA/B;AACA,SAASC,kBAAT,QAAmC,kBAAnC;AACA,SAASC,SAAT,QAA0B,YAA1B;AACA,SAASC,SAAT,QAA0B,oBAA1B;AACA,SAASC,wBAAT,QAAyC,qCAAzC;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMC,mBAAmB,GAAG,QAAoD;AAAA;;AAAA,MAAlD;AAAEC,IAAAA,EAAE,EAAEC,SAAN;AAAiBC,IAAAA,WAAjB;AAA8B,OAAGC;AAAjC,GAAkD;AAC/E,QAAMC,mBAAmB,GAAGZ,SAAS,CAAEa,MAAM,IAAIA,MAAM,CAAEX,cAAF,CAAN,CAAyBY,yBAAzB,EAAZ,CAArC,CAD+E,CAG/E;;AACA,MAAK,CAAEF,mBAAP,EAA6B;AAC5B,WAAO,IAAP;AACA;;AAED,QAAMG,UAAU,GAAGf,SAAS,CAAEa,MAAM,IAAIA,MAAM,CAAEX,cAAF,CAAN,CAAyBc,gBAAzB,CAA2CN,WAA3C,CAAZ,EAAsE,CAAEA,WAAF,CAAtE,CAA5B;AACA,QAAMO,SAAS,GAAGjB,SAAS,CAAEa,MAAM,IAAIA,MAAM,CAAEX,cAAF,CAAN,CAAyBgB,eAAzB,CAA0CR,WAA1C,CAAZ,EAAqE,CAAEA,WAAF,CAArE,CAA3B;AACA,QAAMS,YAAY,GAAGnB,SAAS,CAAEa,MAAM,IAAIA,MAAM,CAAEX,cAAF,CAAN,CAAyBkB,kBAAzB,EAAZ,CAA9B;AAEA,QAAMC,kBAAkB,GAAGpB,OAAO,CACjC,MAAMK,wBAAwB,CAAES,UAAF,EAAcL,WAAW,KAAKP,kBAAhB,GAAqC,EAArC,GAA0CO,WAAxD,CADG,EAEjC,CAAEK,UAAF,CAFiC,CAAlC;AAKA,QAAM;AAAEO,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAAgClB,SAAS,EAA/C;AAEA,SAAO,cAAC,SAAD,eACDgB,kBADC;AAEN,IAAA,UAAU,EAAGJ,SAFP;AAGN,IAAA,YAAY,EAAGK,QAHT;AAIN,IAAA,iBAAiB,EAAGC,eAJd;AAKN,IAAA,YAAY,2BAAGZ,SAAS,CAACa,YAAb,yEAA6B,CALnC;AAMN,IAAA,oBAAoB,2BAAGb,SAAS,CAACc,oBAAb,yEAAqC,mBANnD;AAON,IAAA,iBAAiB,EAAGN;AAPd,KAQDR,SARC,EAAP;AAUA,CA7BD;;AA+BAJ,mBAAmB,CAACmB,SAApB,GAAgC;AAC/BlB,EAAAA,EAAE,EAAEJ,SAAS,CAACuB,WAAV,CAAsBC,UADK;AAE/BlB,EAAAA,WAAW,EAAEN,SAAS,CAACyB;AAFQ,CAAhC;AAKAtB,mBAAmB,CAACuB,YAApB,GAAmC;AAClCpB,EAAAA,WAAW,EAAEP;AADqB,CAAnC;AAIA,eAAeI,mBAAf","sourcesContent":["import { useSelect } from \"@wordpress/data\";\nimport { useMemo } from \"@wordpress/element\";\nimport { SEO_STORE_NAME } from \"@yoast/seo-store\";\nimport { FOCUS_KEYPHRASE_ID } from \"@yoast/seo-store\";\nimport { PropTypes } from \"prop-types\";\nimport { useMarker } from \"../hooks/useMarker\";\nimport { transformAnalysisResults } from \"../helpers/transformAnalysisResults\";\n\n/**\n * Handles known data for a SEO results component.\n *\n * @param {JSX.Element} as A SEO results component.\n * @param {string} [keyphraseId] The keyphrase ID. Defaults to the ID of the focus keyphrase.\n * @param {Object} restProps Props to pass to the SEO results component, that are unhandled by this container.\n *\n * @returns {JSX.Element} A wrapped SEO results component.\n */\nconst SeoResultsContainer = ( { as: Component, keyphraseId, ...restProps } ) => {\n\tconst isSeoAnalysisActive = useSelect( select => select( SEO_STORE_NAME ).selectIsSeoAnalysisActive() );\n\n\t// Render nothing when the SEO analysis is not active.\n\tif ( ! isSeoAnalysisActive ) {\n\t\treturn null;\n\t}\n\n\tconst seoResults = useSelect( select => select( SEO_STORE_NAME ).selectSeoResults( keyphraseId ), [ keyphraseId ] );\n\tconst keyphrase = useSelect( select => select( SEO_STORE_NAME ).selectKeyphrase( keyphraseId ), [ keyphraseId ] );\n\tconst markerStatus = useSelect( select => select( SEO_STORE_NAME ).selectMarkerStatus() );\n\n\tconst transformedResults = useMemo(\n\t\t() => transformAnalysisResults( seoResults, keyphraseId === FOCUS_KEYPHRASE_ID ? \"\" : keyphraseId ),\n\t\t[ seoResults ],\n\t);\n\n\tconst { markerId, handleMarkClick } = useMarker();\n\n\treturn <Component\n\t\t{ ...transformedResults }\n\t\tkeywordKey={ keyphrase }\n\t\tactiveMarker={ markerId }\n\t\tonMarkButtonClick={ handleMarkClick }\n\t\theadingLevel={ restProps.headingLevel ?? 2 }\n\t\tmarksButtonClassName={ restProps.marksButtonClassName ?? \"yoast-mark-button\" }\n\t\tmarksButtonStatus={ markerStatus }\n\t\t{ ...restProps }\n\t/>;\n};\n\nSeoResultsContainer.propTypes = {\n\tas: PropTypes.elementType.isRequired,\n\tkeyphraseId: PropTypes.string,\n};\n\nSeoResultsContainer.defaultProps = {\n\tkeyphraseId: FOCUS_KEYPHRASE_ID,\n};\n\nexport default SeoResultsContainer;\n"],"file":"seo-container.js"}